<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venuxiio - Commission Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <div class="banner">
            <nav data-target="home">
                <a href="#home">Home</a>
            </nav>
            <nav data-target="terms">
                <a href="#terms">Terms</a>
            </nav>
            <nav data-target="prices">
                <a href="#prices">Prices</a>
            </nav>
        </div>

        <section id="home">
            <div style="display: flex;flex-direction: row;gap:1rem;">
                <div style="display: flex;flex-direction: column;">
                    <img src="assets/images/profile.png" alt="Profile Picture" class="profile-image">
                    <p>Hey, I'm Ven. I study 3D animation, like drawing, and spend a lot of time gaming and chilling.
                    </p>
                </div>
                <div style="display: flex;flex-direction: column;gap: 1rem;">
                    <h1>Venuxiio</h1>
                    <p>Welcome to my commission page! Here you can find commission info, T.O.S., and F.A.Q.</p>
                    <div class="status-indicators">
                        <span class="status open">COMMS</span>
                        <span class="status closed">ART TRADES</span>
                        <span class="status closed">REQUESTS</span>
                    </div>
                </div>
            </div>



            <div class="queue-section">
                <div class="queue-section-header">
                    <h2>Commission Queue</h2>
                    <span class="queue-expand-icon">▼</span>
                </div>


                <div class="queue-board" id="queue-board">
                    <!-- Dynamically populated from commissions.json -->
                </div>
            </div>

            <div class="note">
                Website is still in progress so prices may change!!!
            </div>
        </section>

        <section id="prices">
            <h2>Commission Prices</h2>

            <div class="pricing-table">
                <div class="pricing-row">
                    <span class="pricing-type">Icon</span>
                    <span>
                        <span class="pricing-cost">€25</span>
                        <span class="pricing-extra">(+€20 per extra character)</span>
                    </span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-type">Bust</span>
                    <span>
                        <span class="pricing-cost">€30</span>
                        <span class="pricing-extra">(+€20 per extra character)</span>
                    </span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-type">Halfbody</span>
                    <span>
                        <span class="pricing-cost">€50</span>
                        <span class="pricing-extra">(+€40 per extra character)</span>
                    </span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-type">Fullbody</span>
                    <span>
                        <span class="pricing-cost">€60</span>
                        <span class="pricing-extra">(+€50 per extra character)</span>
                    </span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-type">Chibi</span>
                    <span>
                        <span class="pricing-cost">€15</span>
                        <span class="pricing-extra">(+€15 per extra character)</span>
                    </span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-type">Custom</span>
                    <span class="pricing-cost">€80+</span>
                </div>
            </div>

            <h3 style="margin-top: 1.5rem; font-size: 1.1em;">Additional Charges</h3>
            <ul class="terms-list">
                <li>Simple background: +10%</li>
                <li>Armor/weapons/robotic parts: €5-10</li>
            </ul>

            <h2>What I Draw</h2>
            <div class="two-column">
                <div class="list-section">
                    <h3>Will Draw</h3>
                    <ul>
                        <li>OCs</li>
                        <li>Furries</li>
                        <li>Humans</li>
                        <li>Ask</li>
                    </ul>
                </div>
                <div class="list-section">
                    <h3>Won't Draw</h3>
                    <ul>
                        <li>Extreme gore</li>
                        <li>NSFW</li>
                        <li>Complex backgrounds</li>
                        <li>Horse</li>
                        <li>Complex horns</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="terms">
            <h2>Terms of Service</h2>
            <ul class="terms-list">
                <li>Art style is "sketchy" - this is intentional</li>
                <li>All art delivered digitally</li>
                <li>I reserve the right to refuse any commission</li>
                <li>Payment required before work begins</li>
                <li>No AI training rights - do not use my art for AI</li>
                <li>Typical completion time: 1–2 weeks</li>
                <li>Commissions reopen every 2–3 months</li>
            </ul>
        </section>


        <footer>

            <p style="color: #999999;">Follow me on social media</p>
            <div class="social-links">
                <a href="#">Rednote</a>
                <a href="#">Instagram</a>
                <a href="#">Toyhouse</a>
                <a href="#">TikTok</a>
            </div>
        </footer>
    </div>

    <script>
        // Fetch commission data from JSON file
        async function loadCommissions() {
            try {
                const response = await fetch('commissions.json');
                if (!response.ok) {
                    throw new Error('Failed to load commissions.json');
                }
                return await response.json();
            } catch (error) {
                console.error('Error loading commissions:', error);
                return null;
            }
        }

        // Render the queue board from JSON data
        function renderQueueBoard(commissionData) {
            const queueBoard = document.getElementById('queue-board');
            if (!queueBoard || !commissionData || !commissionData.commissions) {
                console.error('Invalid commission data');
                return;
            }

            const allCommissions = commissionData.commissions;
            const columns = [
                { key: 'waiting-list', title: 'Waiting List' },
                { key: 'in-progress', title: 'In Progress' },
                { key: 'finished', title: 'Finished' }
            ];

            // Clear existing content
            queueBoard.innerHTML = '';

            // Create columns
            columns.forEach(column => {
                // Filter commissions by status
                const commissions = allCommissions.filter(c => c.status === column.key);
                const columnDiv = document.createElement('div');
                columnDiv.className = 'queue-column';

                // Column header
                const headerDiv = document.createElement('div');
                headerDiv.className = 'column-header';
                const titleH3 = document.createElement('h3');
                titleH3.textContent = column.title;
                const countSpan = document.createElement('span');
                countSpan.className = 'column-count';
                countSpan.textContent = commissions.length;

                headerDiv.appendChild(titleH3);
                headerDiv.appendChild(countSpan);

                // Column cards container
                const cardsDiv = document.createElement('div');
                cardsDiv.className = 'column-cards';

                // Add commission cards
                commissions.forEach(commission => {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'commission-card';

                    const cardHeader = document.createElement('div');
                    cardHeader.className = 'card-header';

                    const cardNumber = document.createElement('span');
                    cardNumber.className = 'card-number';
                    cardNumber.textContent = `#${commission.id}`;

                    cardHeader.appendChild(cardNumber);

                    const cardContent = document.createElement('div');
                    cardContent.className = 'card-content';

                    const cardTitle = document.createElement('p');
                    cardTitle.className = 'card-title';
                    cardTitle.textContent = commission.title;

                    const cardDescription = document.createElement('p');
                    cardDescription.className = 'card-detail';
                    cardDescription.textContent = commission.description;

                    cardContent.appendChild(cardTitle);
                    cardContent.appendChild(cardDescription);

                    cardDiv.appendChild(cardHeader);
                    cardDiv.appendChild(cardContent);
                    cardsDiv.appendChild(cardDiv);
                });

                columnDiv.appendChild(headerDiv);
                columnDiv.appendChild(cardsDiv);
                queueBoard.appendChild(columnDiv);
            });
        }

        function updateActiveNav() {
            // Get current hash, default to 'home' if no hash
            const hash = window.location.hash.slice(1) || 'home';

            // Remove active class from all nav elements
            document.querySelectorAll('nav').forEach(nav => {
                nav.classList.remove('active');
            });

            // Add active class to matching nav
            const activeNav = document.querySelector(`nav[data-target="${hash}"]`);
            if (activeNav) {
                activeNav.classList.add('active');
            }

            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active-section');
            });

            // Show only the matching section
            const activeSection = document.querySelector(`section#${hash}`);
            if (activeSection) {
                activeSection.classList.add('active-section');
            }

            // Also show/hide footer based on section
            const footer = document.querySelector('footer');
            if (hash === 'home') {
                footer.style.display = 'block';
            } else {
                footer.style.display = 'none';
            }
        }


        // Queue section expand/collapse functionality
        function setupQueueSection() {
            const queueSection = document.querySelector('.queue-section');
            const sectionHeader = document.querySelector('.queue-section-header');
            const sectionIcon = document.querySelector('.queue-expand-icon');

            sectionHeader.addEventListener('click', () => {
                queueSection.classList.toggle('collapsed');
                sectionIcon.style.transform = queueSection.classList.contains('collapsed')
                    ? 'rotate(-90deg)'
                    : 'rotate(0deg)';
            });
        }

        // Update on page load
        updateActiveNav();
        setupQueueSection();

        // Load and render commissions from JSON
        loadCommissions().then(data => {
            if (data) {
                renderQueueBoard(data);
            }
        });

        // Update when hash changes
        window.addEventListener('hashchange', updateActiveNav);
    </script>
</body>

</html>